## Docker로 다중 컨테이너 애플리케이션 구축하기

### Target 앱 & 설정

세 가지 컨테이너 가동

1. MongoDB

- 앱에서 생성된 데이터를 저장하기 위한 것.

2. 백엔드 웹앱

- NodeJS Rest API

3. 프론트엔드 웹앱

- React SPA

### MongoDB 서비스 도커화 하기

### Node 앱 도커화 하기

### React SPA를 컨테이너로 옮기기

### 효율적인 컨테이너 간 통신을 위한 Docker 네트워크 추가하기

백엔드 코드와 프론트엔드 코드간에는 차이가 있다.

브라우저에서 실행되는지 노드 런타임 환경에서 실행되는지에 대한 차이가.

nodejs 로 구성한 백엔드코드의 mongodb connect 주소를 컨테이너명으로 하면 컨테이너 내부에서 실행이되어 연결되어지나

프론트엔드 소스는 브라우저단에서 실행되기 때문에 백엔드 url을 컨테이너명으로 하게되면 연결이 되지 않는다.

백엔드 소스는 db 컨테이너와 연결을 위해 network를 사용가능하나 프론트엔드 코드는 불가하기 때문에 network를 사용하지 않아도 된다.
대신 백엔드에서 포트를 열어주어 프론트에서 api 통신이 가능하도록 한다.

따라서
백엔드는 --network 와 -p 로 db 컨테이너와 프론트엔드 컨테이너와 통신을하며
프론트엔드는 백엔드의 포트를 사용하여 api 통신을하며 -p 로 포트를 열어 브라우저에서 접속을 하도록 한다.

### 몽고DB 인증 오류 해결하기

mongodb 환경변수에 값을 넣어 중간 보안레이어를 생성할 수 있다

MONGO_INITDB_ROOT_USERNAME, MONGO_INITDB_ROOT_PASSWORD 를 사용하여 백엔드에서 connect시 값을 넣게한다.

### 볼륨으로 MongoDB에 데이터 지속성 추가하기

### NodeJS 컨테이너의 볼륨, 바인딩 마운트 및 폴리싱

### 바인드 마운트로 React 컨테이너에 대한 라이브 소스 코드 업데이트하기

### 모듈 요약

스탠드얼론 컨테이너로 세개의 컨테이너를 구성함.
